DROP TABLE IF EXISTS hits;
DROP TABLE IF EXISTS app;
create table if not exists app
(
    id   BIGINT GENERATED BY DEFAULT AS IDENTITY,
    name VARCHAR(30) NOT NULL,
    CONSTRAINT PK_APPS_APP PRIMARY KEY (id),
    CONSTRAINT UQ_NAME UNIQUE (name)
);

create table if not exists hits
(
    id      BIGINT GENERATED BY DEFAULT AS IDENTITY,
    uri     VARCHAR(30) NOT NULL,
    ip      VARCHAR(20) NOT NULL,
    created TIMESTAMP WITHOUT TIME ZONE,
    app_id BIGINT,
    CONSTRAINT PK_HITS PRIMARY KEY (id),
    CONSTRAINT FK_APP_HIT FOREIGN KEY (app_id) REFERENCES app (id)
);